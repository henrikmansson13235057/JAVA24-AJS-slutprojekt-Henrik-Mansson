(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(29)},29:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(13),o=a.n(l),m=a(3);var i=e=>{let{onAddAssignment:t}=e;const[a,l]=Object(r.useState)(""),[o,m]=Object(r.useState)("ux"),i={padding:"0.5rem",width:"100%",marginBottom:"0.75rem",border:"1px solid #ccc",borderRadius:"4px"};return n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),""!==a.trim()&&(t(a,o),l(""))},style:{padding:"1rem",border:"1px solid #ccc",borderRadius:"8px",marginBottom:"1rem",maxWidth:"500px"}},n.a.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem"}},"L\xe4gg till uppgift"),n.a.createElement("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Uppgiftstitel",style:i}),n.a.createElement("select",{value:o,onChange:e=>m(e.target.value),style:i},n.a.createElement("option",{value:"ux"},"UX"),n.a.createElement("option",{value:"frontend"},"Frontend"),n.a.createElement("option",{value:"backend"},"Backend")),n.a.createElement("button",{type:"submit",style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"L\xe4gg till"))},c=a(4),s=a(15),d=a(10);const u=Object(s.a)({apiKey:"AIzaSyBGNd0ZOBKETzJAttnxrRa1OeDV4Zqb0jo",authDomain:"scrumboard-f2e02.firebaseapp.com",projectId:"scrumboard-f2e02",storageBucket:"scrumboard-f2e02.firebasestorage.app",messagingSenderId:"48014949573",appId:"1:48014949573:web:d85977114783f4138184ac",measurementId:"G-1EYFVNR3N6"}),g=Object(d.b)(u),b=Object(c.g)(u),p=async(e,t)=>{const a=Object(c.d)(b,"assignments",e);await Object(c.m)(a,{member:t,status:"in progress"})};var y=e=>{let{assignments:t,filters:a,sortBy:r,members:l,user:o}=e;const i=t.filter(e=>(!a.category||e.category===a.category)&&(!a.member||e.member===a.member)).sort((e,t)=>{var a,n,l,o;return"timestamp-asc"===r?((null===(a=e.timestamp)||void 0===a?void 0:a.seconds)||0)-((null===(n=t.timestamp)||void 0===n?void 0:n.seconds)||0):"timestamp-desc"===r?((null===(l=t.timestamp)||void 0===l?void 0:l.seconds)||0)-((null===(o=e.timestamp)||void 0===o?void 0:o.seconds)||0):"title-asc"===r?e.title.localeCompare(t.title):"title-desc"===r?t.title.localeCompare(e.title):0}),s=async e=>{const a=t.find(t=>t.id===e);if(a)if(a.member===o.name)try{await(async e=>{const t=Object(c.d)(b,"assignments",e);await Object(c.m)(t,{status:"finished"})})(e)}catch(r){alert("N\xe5got gick fel vid markering som klar."),console.error(r)}else alert("Du kan bara markera dina egna uppgifter som klara.")},d={padding:"1rem",border:"1px solid #ccc",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},u={padding:"0.5rem 0.75rem",borderRadius:"4px",color:"white",border:"none",cursor:"pointer",marginLeft:"0.5rem"},g={padding:"0.25rem 0.5rem",border:"1px solid #ccc",borderRadius:"4px"};return n.a.createElement("div",{style:{marginTop:"1rem"}},0===i.length?n.a.createElement("p",{style:{color:"#666"}},"Inga uppgifter"):n.a.createElement("ul",{style:{listStyle:"none",padding:0}},i.map(e=>{var t;return n.a.createElement("li",{key:e.id,style:d},n.a.createElement("div",null,n.a.createElement("p",{style:{fontWeight:"bold"}},e.title),n.a.createElement("p",{style:{fontSize:"0.9rem",color:"#666"}},null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleString()," \u2013 ",e.category),e.member&&n.a.createElement("p",{style:{fontSize:"0.9rem"}},"Tilldelad: ",e.member)),n.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"new"===e.status&&n.a.createElement(n.a.Fragment,null,n.a.createElement("select",{onChange:t=>p(e.id,t.target.value),style:g,defaultValue:""},n.a.createElement("option",{value:""},"Tilldela..."),l.filter(t=>t.category===e.category).map(e=>n.a.createElement("option",{key:e.id,value:e.name},e.name))),o&&(!e.member||""===e.member)&&o.role===e.category&&n.a.createElement("button",{onClick:()=>p(e.id,o.name),style:Object(m.a)(Object(m.a)({},u),{},{backgroundColor:"#3b82f6"})},"Ta emot")),"in progress"===e.status&&e.member===o.name&&n.a.createElement("button",{onClick:()=>s(e.id),style:Object(m.a)(Object(m.a)({},u),{},{backgroundColor:"#10b981"})},"Klart"),"finished"===e.status&&n.a.createElement("button",{onClick:()=>(async e=>{const t=Object(c.d)(b,"assignments",e);await Object(c.c)(t)})(e.id),style:Object(m.a)(Object(m.a)({},u),{},{backgroundColor:"#ef4444"})},"Radera")))})))};var f=e=>{let{filters:t,setFilters:a,sortBy:r,setSortBy:l,members:o}=e;const i={padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"};return n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem",margin:"1rem 0"}},n.a.createElement("select",{value:t.category,onChange:e=>a(t=>Object(m.a)(Object(m.a)({},t),{},{category:e.target.value})),style:i},n.a.createElement("option",{value:""},"Alla kategorier"),n.a.createElement("option",{value:"ux"},"UX"),n.a.createElement("option",{value:"frontend"},"Frontend"),n.a.createElement("option",{value:"backend"},"Backend")),n.a.createElement("select",{value:t.member,onChange:e=>a(t=>Object(m.a)(Object(m.a)({},t),{},{member:e.target.value})),style:i},n.a.createElement("option",{value:""},"Alla medlemmar"),o.map(e=>n.a.createElement("option",{key:e.id,value:e.name},e.name))),n.a.createElement("select",{value:r,onChange:e=>l(e.target.value),style:i},n.a.createElement("option",{value:"timestamp-desc"},"Nyast f\xf6rst"),n.a.createElement("option",{value:"timestamp-asc"},"\xc4ldst f\xf6rst"),n.a.createElement("option",{value:"title-asc"},"A\u2013\xd6"),n.a.createElement("option",{value:"title-desc"},"\xd6\u2013A")))};var E=e=>{let{onAddMember:t,user:a,members:l=[]}=e;const[o,m]=Object(r.useState)(""),[i,c]=Object(r.useState)("ux");Object(r.useEffect)(()=>{a&&(m(a.name),c(a.role||"ux"))},[a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),""!==o.trim()&&(t(o,i),a||m(""))},style:{padding:"1rem",border:"1px solid #ccc",borderRadius:"5px",marginBottom:"1rem"}},!a&&n.a.createElement("input",{type:"text",value:o,onChange:e=>m(e.target.value),placeholder:"Namn",style:{padding:"0.5rem",width:"100%",marginBottom:"0.5rem",boxSizing:"border-box"}}),a&&n.a.createElement("p",{style:{marginBottom:"0.5rem"}},n.a.createElement("strong",null,a.name)," (inloggad som ",n.a.createElement("em",null,a.role),")"),n.a.createElement("button",{type:"submit"},"L\xe4gg till medlem")),n.a.createElement("div",{style:{backgroundColor:"#fff",padding:"1rem",borderRadius:"5px",maxWidth:"400px",margin:"0 auto",boxShadow:"0 0 5px rgba(0,0,0,0.1)"}},n.a.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.75rem"}},"Alla medlemmar"),0===l.length?n.a.createElement("p",{style:{color:"#777"}},"Inga medlemmar \xe4nnu."):n.a.createElement("ul",{style:{listStyleType:"none",padding:0,maxHeight:"200px",overflowY:"auto"}},l.map(e=>n.a.createElement("li",{key:e.id,style:{borderBottom:"1px solid #ddd",paddingBottom:"0.5rem",marginBottom:"0.5rem"}},n.a.createElement("p",null,n.a.createElement("strong",null,e.name)," (",e.category,")"))))))};const v={padding:"0.5rem",width:"100%",marginBottom:"0.75rem",border:"1px solid #ccc",borderRadius:"4px"};var x=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)([]),[o,s]=Object(r.useState)({category:"",member:""}),[u,p]=Object(r.useState)("timestamp-desc"),[x,j]=Object(r.useState)(""),[O,h]=Object(r.useState)(""),[k,w]=Object(r.useState)(null),[S,B]=Object(r.useState)(!1),[C,R]=Object(r.useState)("ux");Object(r.useEffect)(()=>{const e=Object(c.h)(Object(c.b)(b,"assignments"),e=>{const a=e.docs.map(e=>Object(m.a)({id:e.id},e.data()));t(a)});return()=>e()},[]),Object(r.useEffect)(()=>{(async()=>{const e=(await Object(c.f)(Object(c.b)(b,"members"))).docs.map(e=>Object(m.a)({id:e.id},e.data()));l(e)})()},[]);const A=t=>e.filter(e=>(null===e||void 0===e?void 0:e.status)===t).filter(e=>(!o.category||(null===e||void 0===e?void 0:e.category)===o.category)&&(!o.member||(null===e||void 0===e?void 0:e.member)===o.member)),W={backgroundColor:"#fff",padding:"1rem",borderRadius:"12px",boxShadow:"0 0 10px rgba(0,0,0,0.1)"};return n.a.createElement("div",{style:{minHeight:"100vh",padding:"1.5rem",fontFamily:"sans-serif",maxWidth:"1000px",margin:"0 auto",backgroundColor:"#f3f4f6"}},n.a.createElement("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",color:"#2563eb",marginBottom:"2rem"}},"Scrum Board"),!k&&n.a.createElement("div",{style:Object(m.a)(Object(m.a)({},W),{},{maxWidth:"400px",margin:"0 auto"})},n.a.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"}},S?"Registrera":"Logga in"),n.a.createElement("form",{onSubmit:S?async e=>{if(e.preventDefault(),x&&O)try{const e=(await Object(d.a)(g,x,O)).user.uid;await Object(c.l)(Object(c.d)(b,"users",e),{uid:e,email:x,name:x,role:C}),w({uid:e,email:x,name:x,role:C}),alert("Registrering lyckades!"),j(""),h("")}catch(t){alert("Fel vid registrering: "+t.message)}else alert("Fyll i email och l\xf6senord")}:async e=>{if(e.preventDefault(),x&&O)try{const e=(await Object(d.c)(g,x,O)).user.uid,a=await Object(c.e)(Object(c.d)(b,"users",e));a.exists()?(w(Object(m.a)({uid:e},a.data())),alert("V\xe4lkommen tillbaka, ".concat(a.data().name||x,"!"))):alert("Anv\xe4ndardata kunde inte hittas."),j(""),h("")}catch(t){alert("Fel vid inloggning: "+t.message)}else alert("Fyll i email och l\xf6senord")}},n.a.createElement("input",{type:"email",placeholder:"Email",value:x,onChange:e=>j(e.target.value),required:!0,style:Object(m.a)({},v)}),n.a.createElement("input",{type:"password",placeholder:"L\xf6senord",value:O,onChange:e=>h(e.target.value),required:!0,style:Object(m.a)({},v)}),S&&n.a.createElement("select",{value:C,onChange:e=>R(e.target.value),style:Object(m.a)({},v)},n.a.createElement("option",{value:"ux"},"UX"),n.a.createElement("option",{value:"frontend"},"Frontend"),n.a.createElement("option",{value:"backend"},"Backend")),n.a.createElement("button",{type:"submit",style:{backgroundColor:"#2563eb",color:"white",padding:"0.5rem",width:"100%",borderRadius:"4px",border:"none",cursor:"pointer"}},S?"Registrera":"Logga in")),n.a.createElement("button",{onClick:()=>B(!S),style:{marginTop:"1rem",color:"#2563eb",textDecoration:"underline"}},S?"Har redan konto? Logga in":"Har inte konto? Registrera")),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"}},n.a.createElement("p",null,"Inloggad som ",n.a.createElement("strong",null,k.email)," (",k.role,")"),n.a.createElement("button",{onClick:async()=>{await Object(d.d)(g),w(null),l([])},style:{backgroundColor:"#dc2626",color:"#fff",padding:"0.5rem 1rem",borderRadius:"6px",border:"none",cursor:"pointer"}},"Logga ut")),n.a.createElement("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"2rem",flexWrap:"wrap"}},n.a.createElement("div",{style:Object(m.a)({flex:1,minWidth:"300px"},W)},n.a.createElement(i,{onAddAssignment:async(e,t)=>{await Object(c.a)(Object(c.b)(b,"assignments"),{title:e,category:t,status:"new",member:"",timestamp:Object(c.k)()})}}),n.a.createElement(E,{onAddMember:async(e,t)=>{try{await Object(c.a)(Object(c.b)(b,"members"),{name:e,category:t})}catch(a){alert("Kunde inte l\xe4gga till medlem: "+a.message)}},user:k})),n.a.createElement("div",{style:Object(m.a)({flex:2,minWidth:"300px"},W)},n.a.createElement(f,{filters:o,setFilters:s,sortBy:u,setSortBy:p,members:a}))),n.a.createElement("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"}},["new","in progress","finished"].map(e=>n.a.createElement("div",{key:e,style:{flex:1,minWidth:"250px"}},n.a.createElement("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem",color:"new"===e?"#ef4444":"in progress"===e?"#f59e0b":"#16a34a"}},"new"===e&&"\ud83c\udd95 Ny","in progress"===e&&"\ud83d\udea7 P\xe5g\xe5r","finished"===e&&"\u2705 Klar"),n.a.createElement(y,{assignments:A(e),filters:o,sortBy:u,members:a,user:k}))))))};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(x,null)))}},[[16,1,2]]]);
//# sourceMappingURL=main.e3df1064.chunk.js.map